{"version":3,"sources":["rss-feedback/components/Form.jsx","rss-feedback/components/Table.jsx","rss-feedback/apis/rsstojson.js","rss-feedback/components/List.jsx","rss-feedback/components/Clock.jsx","rss-feedback/App.jsx","index.js"],"names":["Form","onSubmit","useState","name","setName","link","setLink","style","marginLeft","marginTop","e","preventDefault","className","htmlFor","type","id","required","placeholder","onChange","target","value","Table","search","results","onSelect","deleteItem","slug","a","axios","delete","length","renderedList","map","result","i","padding","fontSize","fontWeight","cursor","onClick","bind","Fragment","displayResults","rsstojson","url","get","List","selected","error","setError","feed","setFeed","items","setItems","getFeed","data","status","renderFeed","then","allFeed","useEffect","interval","setInterval","clearInterval","margin","maxWidth","src","image","alt","dangerouslySetInnerHTML","__html","title","href","rel","description","author","renderHeader","renderList","item","index","marginBottom","borderTop","borderBottom","pubDate","float","renderContent","Clock","state","time","Date","toLocaleTimeString","setState","position","top","right","this","React","Component","App","setResults","setSelected","console","log","post","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.1d880c37.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Form = ({ onSubmit }) => {\r\n    const [name, setName] = useState(\"\");\r\n    const [link, setLink] = useState(\"\");\r\n\r\n    const onFormSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        onSubmit({ name, link });\r\n        setName(\"\");\r\n        setLink(\"\");\r\n    };\r\n\r\n    return (\r\n        <div style={{ marginLeft: \"10px\", marginTop: \"10px\" }}>\r\n            <h3>Add a RSS Link: </h3>\r\n            <form onSubmit={onFormSubmit} className=\"ui form\">\r\n                {/* <div className=\"three fields\"> */}\r\n                <div className=\"field\">\r\n                    <label htmlFor=\"name\">Enter Name: </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        required\r\n                        placeholder=\"Enter name\"\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        value={name}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                    <label htmlFor=\"name\">Enter Link: </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"link\"\r\n                        required\r\n                        placeholder=\"Enter link\"\r\n                        onChange={(e) => setLink(e.target.value)}\r\n                        value={link}\r\n                    />\r\n                </div>\r\n                <div className=\"field\">\r\n                    <button className=\"ui button primary\">Submit</button>\r\n                </div>\r\n                {/* </div> */}\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// import rss from \"../apis/rss\";\r\n\r\nconst Table = ({ search, results, onSelect }) => {\r\n    const deleteItem = async (slug) => {\r\n        // await rss.delete(`/rss/${slug}`);\r\n        await axios.delete(`/api/v1/rss/${slug}`);\r\n\r\n        search();\r\n    };\r\n\r\n    const displayResults = (results) => {\r\n        const renderedList = results.map((result, i) => {\r\n            return (\r\n                <div\r\n                    key={i + 1}\r\n                    className=\"ui segment\"\r\n                    style={{\r\n                        padding: \"7px 7px 10px 7px\",\r\n                        fontSize: \"1.5em\",\r\n                        fontWeight: \"bold\",\r\n                        cursor: \"pointer\",\r\n                    }}\r\n                >\r\n                    <span onClick={onSelect.bind(this, result)}>\r\n                        {result.name}\r\n                    </span>\r\n\r\n                    <button\r\n                        className=\"ui icon mini button right floated negative\"\r\n                        onClick={deleteItem.bind(this, result.slug)}\r\n                    >\r\n                        <i className=\"trash alternate icon\"></i>\r\n                    </button>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return <React.Fragment>{renderedList}</React.Fragment>;\r\n    };\r\n\r\n    return (\r\n        <div className=\"ui segments\">\r\n            {results.length > 0 ? (\r\n                displayResults(results)\r\n            ) : (\r\n                <div className=\"ui active centered inline loader\"></div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Table;\r\n","import axios from \"axios\";\r\n\r\nconst corsUrl = \"https://api.rss2json.com/v1/api.json?rss_url=\";\r\n\r\nfunction rsstojson(url) {\r\n    return axios.get(`${corsUrl}${url}`);\r\n}\r\n\r\nexport default rsstojson;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport rsstojson from \"../apis/rsstojson\";\r\n\r\nconst List = ({ selected }) => {\r\n    const [error, setError] = useState(false);\r\n    const [feed, setFeed] = useState(null);\r\n    const [items, setItems] = useState(null);\r\n\r\n    const showError = () => {\r\n        return (\r\n            <div\r\n                className=\"ui error message\"\r\n                style={{ maxWidth: \"75%\", marginTop: \"10px\" }}\r\n            >\r\n                <i className=\"close icon\"></i>\r\n                <div className=\"header\">\r\n                    There were some errors with your Search\r\n                </div>\r\n                <ul className=\"list\">\r\n                    <li>Please check your internet connection</li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getFeed = async () => {\r\n        try {\r\n            const { data } = await rsstojson(selected.link);\r\n            return data;\r\n        } catch (e) {\r\n            setError(true);\r\n            return { status: \"error\", feed: [], items: [] };\r\n        }\r\n    };\r\n\r\n    // const renderHeader = (feed) => {\r\n    //     if (feed) {\r\n    //         return (\r\n    //             <div\r\n    //                 style={{\r\n    //                     border: \"1px dotted black\",\r\n    //                     margin: \"10px 10px 15px 0px\",\r\n    //                     padding: \"10px\",\r\n    //                     boxShadow: \"0px 0px 8px 5px #ececec\",\r\n    //                     maxWidth: \"75%\",\r\n    //                 }}\r\n    //             >\r\n    //                 <img\r\n    //                     src={feed?.image}\r\n    //                     alt=\"Feed Image\"\r\n    //                     style={{\r\n    //                         height: \"100px\",\r\n    //                         width: \"100px\",\r\n    //                     }}\r\n    //                 />\r\n    //                 <h1 dangerouslySetInnerHTML={{ __html: feed?.title }}></h1>\r\n    //                 <a href={feed?.link} target=\"_blank\" rel=\"noreferrer\">\r\n    //                     [visit link]\r\n    //                 </a>\r\n    //                 <p style={{ fontSize: \"1.3em\", marginBottom: \"5px\" }}>\r\n    //                     Author: {feed?.author}\r\n    //                 </p>\r\n    //                 <p\r\n    //                     style={{\r\n    //                         fontFamily: \"Lato, serif, sans-serif\",\r\n    //                         fontSize: \"14px\",\r\n    //                     }}\r\n    //                 >\r\n    //                     {feed?.description}\r\n    //                 </p>\r\n    //             </div>\r\n    //         );\r\n    //     }\r\n    // };\r\n\r\n    const renderHeader = (feed) => {\r\n        const rssIcon =\r\n            \"https://cdn.pixabay.com/photo/2017/06/25/14/38/rss-2440955_960_720.png\";\r\n\r\n        return (\r\n            <div className=\"ui items\">\r\n                <div\r\n                    className=\"item\"\r\n                    style={{\r\n                        margin: \"10px 10px 15px 0px\",\r\n                        maxWidth: \"75%\",\r\n                    }}\r\n                >\r\n                    <div className=\"image\">\r\n                        <img src={feed.image || rssIcon} alt=\"Feed\" />\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        <h1\r\n                            dangerouslySetInnerHTML={{\r\n                                __html: feed?.title,\r\n                            }}\r\n                        ></h1>\r\n                        <a href={feed.link} target=\"_blank\" rel=\"noreferrer\">\r\n                            [visit Link]\r\n                        </a>\r\n                        <div className=\"meta\">\r\n                            <span>Description</span>\r\n                        </div>\r\n                        <div className=\"description\">\r\n                            <p>{feed.description}</p>\r\n                        </div>\r\n                        <div className=\"extra\">Author: {feed.author}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderContent = (items) => {\r\n        const renderList = items.map((item, index) => {\r\n            return (\r\n                <div className=\"ui segment\" key={index}>\r\n                    <h3 className=\"ui header\">{item.title}</h3>\r\n                    <div\r\n                        style={{\r\n                            marginBottom: \"8px\",\r\n                            borderTop: \"1px dotted grey\",\r\n                            borderBottom: \"1px dotted gray\",\r\n                            padding: \"4px 0px\",\r\n                        }}\r\n                    >\r\n                        <span className=\"ui price\">\r\n                            published date: {item.pubDate}\r\n                        </span>\r\n                        <a href={item.link} style={{ float: \"right\" }}>\r\n                            [visit link]\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"description\">\r\n                        <p\r\n                            dangerouslySetInnerHTML={{\r\n                                __html: item.description,\r\n                            }}\r\n                        ></p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"ui raised segments\" style={{ maxWidth: \"75%\" }}>\r\n                {renderList}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderFeed = () => {\r\n        getFeed().then((allFeed) => {\r\n            const { status, feed, items } = allFeed;\r\n\r\n            if (status === \"ok\") {\r\n                setFeed(feed);\r\n                setItems(items);\r\n            }\r\n        });\r\n    };\r\n\r\n    const displayMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"ui info message\"\r\n                style={{ marginTop: \"10px\", maxWidth: \"75%\" }}\r\n            >\r\n                <div className=\"header\">Please select a RSS feed to view.</div>\r\n                <ul className=\"list\">\r\n                    <li>You can Add a new feed through the form</li>\r\n                    <li>You can delete the feed from the list</li>\r\n                    <li>The Feed for a site will be updated every hour</li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        let interval;\r\n\r\n        if (selected) {\r\n            renderFeed();\r\n\r\n            interval = setInterval(() => {\r\n                renderFeed();\r\n            }, 60 * 60 * 1000);\r\n        }\r\n\r\n        return () => {\r\n            setError(false);\r\n            setFeed(null);\r\n            setItems(null);\r\n            clearInterval(interval);\r\n        };\r\n    }, [selected]);\r\n\r\n    return (\r\n        <div>\r\n            {feed ? renderHeader(feed) : \"\"}\r\n            {items ? renderContent(items) : \"\"}\r\n\r\n            {error === true ? showError() : \"\"}\r\n            {!selected ? displayMessage() : \"\"}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default List;\r\n","import React from \"react\";\r\n\r\nclass Clock extends React.Component {\r\n    state = {\r\n        time: new Date().toLocaleTimeString(),\r\n    };\r\n\r\n    componentDidMount() {\r\n        setInterval(() => {\r\n            this.setState({ time: new Date().toLocaleTimeString() });\r\n        }, 1000);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"time\"\r\n                style={{ position: \"absolute\", top: \"0px\", right: \"10px\" }}\r\n            >\r\n                {this.state.time}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Clock;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Form from \"./components/Form\";\r\nimport Table from \"./components/Table\";\r\nimport List from \"./components/List\";\r\nimport Clock from \"./components/Clock\";\r\n\r\n// import rss from \"./apis/rss\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst App = () => {\r\n    const [results, setResults] = useState([]);\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    const search = async () => {\r\n        let url = \"/api/v1/rss\";\r\n\r\n        // const { data } = await rss.get(url);\r\n        const { data } = await axios.get(url);\r\n        setResults(data.data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        search();\r\n        console.log(\"First time render\");\r\n    }, []);\r\n\r\n    const onSubmit = async (data) => {\r\n        // await rss.post(\"/api/v1/rss\", data);\r\n        await axios.post(\"/api/v1/rss\", data);\r\n        search();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Clock />\r\n            <div className=\"ui grid\">\r\n                <div className=\"four wide column\">\r\n                    <Form onSubmit={onSubmit} />\r\n                    <Table\r\n                        search={search}\r\n                        results={results}\r\n                        onSelect={setSelected}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"twelve wide column\">\r\n                    <List selected={selected} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./rss-feedback/App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}